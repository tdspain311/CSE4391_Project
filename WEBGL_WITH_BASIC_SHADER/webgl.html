<!doctype html>
<html lang="en">
	<head>
		<!--Title of the web page-->
		<title>Krishna WebGL Demonstration</title>
		<!--Set the meta-->
		<meta charset="utf-8">
		<!--Link the cascading style sheet from the appropriate directory-->
		<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
			
		<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
		<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
		
		<script src="my_scripts/sylvester.js" type="text/javascript"></script>
		<script src="my_scripts/glUtils.js" type="text/javascript"></script>
		<script src="my_scripts/webgl-utils.js" type="text/javascript"></script>
		<script src="my_scripts/classes.js" type="text/javascript"></script>
		<script src="my_scripts/script.js" type="text/javascript"></script>

		
		<style>
			canvas {
				border: 2px solid black;
				background-color: black;
				width: 600px;
				height: 450px;
			}
			
			#canvas-container {
				height: 450px;
				float: left;
			}
			
			#interface-container {
				margin-top: 50px;
				height: 450px;
			}
			
			.interface-controls {
				height: 200px;
				float: left;
				margin: 0 10px 0 10px;
			}
			
			#light-type {
				height: 200px;
				float: left;
				margin: 0 10px 0 10px;
			}
			
			.sliders {
				height:100px;
				float: left;
				margin:15px
			}
			
			h3 {
				text-align: center;
			}
			.clear {
				clear: both;
			}
			
			p {
				float: left;
				margin: 0px;
			}
		</style>
		
		<script id="shader-fs" type="x-shader/x-fragment">
		  varying lowp vec4 vColor;
		  void main(void)
		  {

			gl_FragColor = vec4(0.0, 1.0, 1.0, 0.0);

			gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);

		  }
		</script>

    <!-- Notes on the Vertex shader program Krishna Bhattarai -->
    <!-- attribute: a linkage between a vertex shader and OpenGL ES for pre-vertex data-->
    <!-- vec3: a three component floating point vector-->
    <!-- vec4: a four component floating point vector-->
    <!-- uniform: value does not change across the primite being processed, uniforms form the linkage between a shader, OpenGL ES and the applicatoin-->
    <!-- lowp: Range and precision that can be less than mediump but still represents all color values for any color channel-->
    <!-- mat4 a 4*4 floating point matrix-->
    <!--uMVMatrix: uniform Model View matrix-->
    <!--uPMatrix: Uniform Projection matrix-->


		<script id="shader-vs" type="x-shader/x-vertex">
		  attribute vec3 aVertexPosition;
		  attribute vec4 aVertexColor;
		  uniform mat4 uModelMatrix;
		  uniform mat4 uProjectionMatrix;
		  uniform mat4 uViewMatrix;
		  varying lowp vec4 vColor;

		  void main(void)
		  {
			gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);
			//vColor = aVertexColor;
			//vColor = vec4(0, 3, 5, 1);
		  }
		</script>

		
		<script>
			$(function() {
			
				$('.interface-controls').append("<p>X<span class='sliders' id='x'>0</span></p>");
				$('.interface-controls').append("<p>Y<span class='sliders' id='y'>0</span></p>");
				$('.interface-controls').append("<p>Z<span class='sliders' id='z'>0</span></p>");
				
				$('#light-type').buttonset();

				$( ".sliders" ).each(function() {
					// read initial values from markup and remove that
					var value = parseInt( $( this ).text(), 10 );
					$( this ).empty().slider({
						value: value,
						range: "min",
						min: -10,
						max: 10,
						value: 0,
						animate: true,
						orientation: "vertical",
						slide: function( e, ui) {
							var val = ui.value;
							var axis = ui.handle.parentNode.id;
							var transform = ui.handle.parentNode.parentNode.parentNode.id;
							console.log(transform, axis, val);
						}
					});
				});
				
				$(':radio[name=radio]').change(function() {
					var selected = $(':radio[name=radio]:checked')[0].value;
					console.log(selected);
				});
				
				$('#load-obj').click(function() {
					var file = $('#obj-file').val();
					console.log(file);
				});
				
				$('#load-texture').click(function() {
					var texture = $('#texture-file').val();
					console.log(texture);
				});
			});
			
			

		</script>
		


	</head>
	
	<body onload="start()">
		<div id='canvas-container'>
			<canvas id="glcanvas" width=600 height=450>
				Your browser doesn't appear to support the <code>&lt;canvas&gt;</code> element.
			</canvas>
		</div>
		<div id='interface-container'>
			<div id='file'>
				<h3>File</h3>
				<form class='loaders'>
					<label for="obj-file" style='margin: 0 10px 0 8px;'>Load Object File</label>
					<input id="obj-file" type="file"/>
					<input id='load-obj' type='button' value='Load'/>
				</form>
				<form class='loaders'>
					<label for="texture-file" style='margin-left: 10px;'>Load Texture File</label>
					<input id="texture-file" type="file"/>
					<input id='load-texture' type='button' value='Load'/>
				</form>
			</div>
			<div class='interface-controls' id='rotate'>
				<h3>Rotate</h3>
			</div>
			<div class='interface-controls' id='eye'>
				<h3>Eye</h3>
			</div>
			<div class='interface-controls' id='lookat'>
				<h3>Look At</h3>
			</div>
			<div class='interface-controls' id='view'>
				<h3>View Up</h3>
			</div>
			<div class='interface-controls' id='fov'>
				<h3>FOV</h3>
			</div>
			<div class='interface-controls' id='lights'>
				<h3>Lights</h3>
			</div>
			<div id='light-type'>
				<h3>Light Type</h3>
				<form>
				  <div id="lighting-select">
					<input type="radio" id="light-point" name="radio" value="Point" checked="checked"><label for="light-point">Point</label>
					<input type="radio" id="light-speckled" name="radio" value="Speckled"><label for="light-speckled">Speckled</label>
					<input type="radio" id="light-diffuse" name="radio" value="Diffuse"><label for="light-diffuse">Diffuse</label>
				  </div>
				</form>
			</div>
		</div>
	</body>
</html>